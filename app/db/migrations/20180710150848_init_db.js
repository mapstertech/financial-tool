/*
 * Some table names have been renamed:
 *
 * federal_funds_sold_and_securities_purchase_under_agreements_to_resell
 *  -> fed_funds_sold_and_secs_purchase_u_a_to_resell
 *
 * federal_funds_purchased_and_securities_sold_under_agreement_to_repurchase
 *  -> fed_funds_sold_and_secs_purchase_u_a_to_repurchase
 *
 * investments_in_affiliates_subsidiaries_associates_and_joint_ventures
 *  -> investments_in_affils_subs_assocs_and_jvs
 *
 * proceeds_payment_federal_funds_sold_and_securities_purchased_under_agreement_to_resell
 *  -> proceeds_pmnt_fed_funds_sold_and_secs_purchased_u_a_to_resell
 */

exports.up = (knex, Promise) => {
    return Promise.all([
        knex.schema.createTable('companies', (table) => {
            table.increments();
            table.text('company_name');
            table.text('ticker_symbol');
        }),
        knex.schema.createTable('balance_sheets', (table) => {
            table.increments();
            table.integer('company_id').unsigned().notNullable();
            table.integer('year');
            table.integer('accounts_payable');
            table.integer('accounts_receivable');
            table.integer('accrued_interest_receivable');
            table.integer('accumulated_depreciation');
            table.integer('additional_paid_in_capital');
            table.integer('advance_from_federal_home_loan_banks');
            table.integer('allowance_for_doubtful_accounts_receivable');
            table.integer('allowance_for_loans_and_lease_losses');
            table.integer('allowance_for_notes_receivable');
            table.integer('assets_held_for_sale');
            table.integer('assets_of_discontinued_operations');
            table.integer('available_for_sale_securities');
            table.integer('bank_acceptance_executed_and_outstanding');
            table.integer('bank_owned_life_insurance');
            table.integer('buildings_and_improvements');
            table.integer('capital_lease_obligations');
            table.integer('capital_stock');
            table.integer('cash_and_cash_equivalents');
            table.integer('cash_and_due_from_banks');
            table.integer('cash_cash_equivalents_and_federal_funds_sold');
            table.integer('cash_equivalents');
            table.integer('cash_value_of_life_insurance');
            table.integer('cash');
            table.integer('commercial_loan');
            table.integer('commercial_paper');
            table.integer('common_stock');
            table.integer('construction_in_progress');
            table.integer('consumer_loan');
            table.integer('current_accrued_expenses');
            table.integer('current_capital_lease_obligation');
            table.integer('current_debt_and_capital_lease_obligation');
            table.integer('current_debt');
            table.integer('current_deferred_liabilities');
            table.integer('current_deferred_revenue');
            table.integer('current_deferred_taxes_liabilities');
            table.integer('current_notes_payable');
            table.integer('current_provisions');
            table.integer('customer_acceptances');
            table.integer('debt_guarantee');
            table.integer('deferred_assets');
            table.integer('deferred_costs');
            table.integer('deferred_policy_acquisition_costs');
            table.integer('deferred_tax_assets');
            table.integer('defined_pension_benefit');
            table.integer('derivative_assets');
            table.integer('derivative_product_liabilities');
            table.integer('dividends_payable');
            table.integer('employee_benefits');
            table.integer('fed_funds_sold_and_secs_purchase_u_a_to_repurchase');
            table.integer('fed_funds_sold_and_secs_purchase_u_a_to_resell');
            table.integer('federal_funds_purchased');
            table.integer('federal_funds_sold');
            table.integer('federal_home_loan_bank_stock');
            table.integer('financial_instruments_sold_under_agreements_to_repurchase');
            table.integer('foreclosed_assets');
            table.integer('foreign_component');
            table.integer('gains_losses_not_affecting_retained_earnings');
            table.integer('general_partnership_capital');
            table.integer('goodwill_and_other_intangible_assets');
            table.integer('goodwill');
            table.integer('gross_accounts_receivable');
            table.integer('gross_loan');
            table.integer('gross_notes_receivable');
            table.integer('gross');
            table.integer('held_to_maturity_securities');
            table.integer('income_tax_payable');
            table.integer('interest_bearing_deposits_assets');
            table.integer('interest_bearing_deposits_liabilities');
            table.integer('interest_payable');
            table.integer('investments_in_affils_subs_assocs_and_jvs');
            table.integer('investments_in_variable_interest_entity');
            table.integer('land_and_improvements');
            table.integer('leases');
            table.integer('liabilities_of_discontinued_operations');
            table.integer('limited_partnership_capital');
            table.integer('line_of_credit');
            table.integer('loans_held_for_sale');
            table.integer('loans_receivable');
            table.integer('long_term_capital_lease_obligation');
            table.integer('long_term_debt_and_capital_lease_obligation');
            table.integer('long_term_debt');
            table.integer('long_term_equity_investment');
            table.integer('long_term_provisions');
            table.integer('machinery_furniture_equipment');
            table.integer('minimum_pension_liabilities');
            table.integer('minority_interest');
            table.integer('money_market_investments');
            table.integer('mortgage_loan');
            table.integer('natural_resource_assets');
            table.integer('net_loan');
            table.integer('net_other_unrealized_gain_loss');
            table.integer('net_unrealized_gain_loss_foreign_currency');
            table.integer('net_unrealized_gain_loss_investments');
            table.integer('net');
            table.integer('non_current_accrued_expenses');
            table.integer('non_current_deferred_liabilities');
            table.integer('non_current_deferred_revenue');
            table.integer('non_current_deferred_taxes_liabilities');
            table.integer('non_current_pension_and_other_postretirement_benefit_plans');
            table.integer('non_interest_bearing_deposits');
            table.integer('notes_receivable');
            table.integer('other_assets');
            table.integer('other_capital_stock');
            table.integer('other_current_borrowings');
            table.integer('other_deposits');
            table.integer('other_equity_adjustments');
            table.integer('other_intangible_assets');
            table.integer('other_interest_earning_assets');
            table.integer('other_liabilities');
            table.integer('other_payable');
            table.integer('other_real_estate_owned');
            table.integer('other_receivables');
            table.integer('patents');
            table.integer('payables_and_accrued_expenses');
            table.integer('payables');
            table.integer('preferred_securities_outside_stock_equity');
            table.integer('preferred_stock_equity');
            table.integer('preferred_stock');
            table.integer('prepaid_assets');
            table.integer('properties');
            table.integer('receivables');
            table.integer('redeemable_preferred_stock');
            table.integer('reinsurance_recoverable');
            table.integer('restricted_cash_and_cash_equivalents');
            table.integer('restricted_cash_and_investments');
            table.integer('restricted_common_stock');
            table.integer('restricted_investments');
            table.integer('retained_earnings');
            table.integer('securities_and_investments');
            table.integer('security_agree_to_be_resell');
            table.integer('security_borrowed');
            table.integer('security_sold_not_yet_repurchased');
            table.integer('separate_account_assets');
            table.integer('separate_account_liability');
            table.integer('short_term_investments');
            table.integer('stockholders_equity');
            table.integer('student_loan');
            table.integer('time_deposits_placed');
            table.integer('total_assets');
            table.integer('total_capitalization');
            table.integer('total_deposits');
            table.integer('total_equity_gross_minority_interest');
            table.integer('total_liabilities_net_minority_interest');
            table.integer('total_liabilities');
            table.integer('total_partnership_capital');
            table.integer('total_tax_payable');
            table.integer('trading_liabilities');
            table.integer('trading_securities');
            table.integer('treasury_stock');
            table.integer('trust_preferred_securities');
            table.integer('unearned_income');
            table.integer('unearned_premiums');
            table.integer('unpaid_loss_and_loss_reserve');
            table.integer('unrealized_gain_loss');
            table.foreign('company_id').references('id').inTable('companies');
        }),
        knex.schema.createTable('income_statements', (table) => {
            table.increments();
            table.integer('company_id').unsigned().notNullable();
            table.integer('year');
            table.integer('total_revenue');
            table.integer('amortization_of_financing_costs_and_discounts');
            table.integer('amortization_of_intangibles');
            table.integer('amortization');
            table.integer('asset_impairment_charge');
            table.integer('beginning_cash_position');
            table.integer('calls_maturities_of_maturity_securities');
            table.integer('capital_expenditure');
            table.integer('cash_dividends_paid');
            table.integer('cash_flow_from_discontinued_operation');
            table.integer('cash_flow');
            table.integer('cash_from_discontinued_financing_activities');
            table.integer('cash_from_discontinued_investing_activities');
            table.integer('cash_from_discontinued_operating_activities');
            table.integer('change_in_account_payable');
            table.integer('change_in_accrued_expense');
            table.integer('change_in_deferred_charges');
            table.integer('change_in_dividend_payable');
            table.integer('change_in_federal_funds_and_securities_sold_for_repurchase');
            table.integer('change_in_income_tax_payable');
            table.integer('change_in_interest_payable');
            table.integer('change_in_loans');
            table.integer('change_in_other_current_assets');
            table.integer('change_in_other_current_liabilities');
            table.integer('change_in_other_working_capital');
            table.integer('change_in_payable');
            table.integer('change_in_payables_and_accrued_expense');
            table.integer('change_in_prepaid_assets');
            table.integer('change_in_receivables');
            table.integer('change_in_tax_payable');
            table.integer('change_in_working_capital');
            table.integer('changes_in_account_receivables');
            table.integer('changes_in_cash');
            table.integer('common_stock_dividend_paid');
            table.integer('common_stock_issuance');
            table.integer('common_stock_payments');
            table.integer('cumulative_effect_of_accounting_change');
            table.integer('deferred_income_tax');
            table.integer('deferred_tax');
            table.integer('depletion');
            table.integer('depreciation_amortization_depletion');
            table.integer('depreciation_and_amortization');
            table.integer('depreciation');
            table.integer('earnings_losses_from_equity_investments');
            table.integer('effect_of_exchange_rate_changes');
            table.integer('end_cash_position');
            table.integer('excess_tax_benefit_from_stock_based_compensation');
            table.integer('extraordinary_items');
            table.integer('financing_cash_flow');
            table.integer('gain_loss_on_investment_securities');
            table.integer('gain_loss_on_sale_of_business');
            table.integer('gain_loss_on_sale_of');
            table.integer('income_tax_paid_supplemental_data');
            table.integer('increase_decrease_in_deposit');
            table.integer('interest_paid_supplemental_data');
            table.integer('investing_cash_flow');
            table.integer('issuance_of_capital_stock');
            table.integer('issuance_of_debt');
            table.integer('long_term_debt_issuance');
            table.integer('long_term_debt_payments');
            table.integer('net_business_purchase_and_sale');
            table.integer('net_common_stock_issuance');
            table.integer('net_foreign_currency_exchange_gain_loss');
            table.integer('net_income_from_continuing_operations');
            table.integer('net_income_from_discontinued_operations');
            table.integer('net_income');
            table.integer('net_intangibles_purchase_and_sale');
            table.integer('net_investment_purchase_and_sale');
            table.integer('net_issuance_payments_of_debt');
            table.integer('net_long_term_debt_issuance');
            table.integer('net_other_financing_charges');
            table.integer('net_other_investing_changes');
            table.integer('net_preferred_stock_issuance');
            table.integer('net_proceeds_payment_for_loan');
            table.integer('net_purchase_and_sale');
            table.integer('net_short_term_debt_issuance');
            table.integer('operating_gains_losses');
            table.integer('other_non_cash_items');
            table.integer('payment_for_loans');
            table.integer('pension_and_employee_benefit_expense');
            table.integer('preferred_stock_dividend_paid');
            table.integer('preferred_stock_issuance');
            table.integer('preferred_stock_payments');
            table.integer('proceeds_from_issuance_of_warrants');
            table.integer('proceeds_from_loans');
            table.integer('proceeds_from_stock_option_exercised');
            table.integer('proceeds_pmnt_fed_funds_sold_and_secs_purchased_u_a_to_resell');
            table.integer('proceeds_payment_in_interest_bearing_deposits_in_bank');
            table.integer('provision_for_loan_lease_and_other_losses');
            table.integer('purchase_of_business');
            table.integer('purchase_of_equity_securities');
            table.integer('purchase_of_fixed_maturity_securities');
            table.integer('purchase_of_intangibles');
            table.integer('purchase_of_investment');
            table.integer('purchase_of');
            table.integer('realized_gain_loss_on_sale_of_loans_and_lease');
            table.integer('repayment_of_debt');
            table.integer('sale_of_business');
            table.integer('sale_of_intangibles');
            table.integer('sale_of_investment');
            table.integer('sale_of');
            table.integer('sales_of_equity_securities');
            table.integer('sales_of_fixed_maturity_securities');
            table.integer('short_term_debt_issuance');
            table.integer('short_term_debt_payments');
            table.integer('stock_based_compensation');
            table.integer('unrealized_gain_loss_on_investment_securities');
            table.foreign('company_id').references('id').inTable('companies');
        }),
        knex.schema.createTable('cash_flow_statements', (table) => {
            table.increments();
            table.integer('company_id').unsigned().notNullable();
            table.integer('year');
            table.integer('cash_flow');
            table.integer('operating_cash_flow');
            table.integer('net_income_from_continuing_operations');
            table.integer('net_income');
            table.integer('net_income_from_discontinued_operations');
            table.integer('extraordinary_items');
            table.integer('cumulative_effect_of_accounting_change');
            table.integer('operating_gains_losses');
            table.integer('gain_loss_on_sale_of_business');
            table.integer('gain_loss_on_sale_of');
            table.integer('net_foreign_currency_exchange_gain_loss');
            table.integer('gain_loss_on_investment_securities');
            table.integer('earnings_losses_from_equity_investments');
            table.integer('pension_and_employee_benefit_expense');
            table.integer('realized_gain_loss_on_sale_of_loans_and_lease');
            table.integer('depreciation_amortization_depletion');
            table.integer('depreciation_and_amortization');
            table.integer('depreciation');
            table.integer('amortization');
            table.integer('amortization_of_intangibles');
            table.integer('depletion');
            table.integer('deferred_tax');
            table.integer('deferred_income_tax');
            table.integer('other_non_cash_items');
            table.integer('amortization_of_financing_costs_and_discounts');
            table.integer('asset_impairment_charge');
            table.integer('stock_based_compensation');
            table.integer('excess_tax_benefit_from_stock_based_compensation');
            table.integer('provision_for_loan_lease_and_other_losses');
            table.integer('unrealized_gain_loss_on_investment_securities');
            table.integer('change_in_working_capital');
            table.integer('change_in_receivables');
            table.integer('changes_in_account_receivables');
            table.integer('change_in_prepaid_assets');
            table.integer('change_in_payables_and_accrued_expense');
            table.integer('change_in_payable');
            table.integer('change_in_tax_payable');
            table.integer('change_in_income_tax_payable');
            table.integer('change_in_account_payable');
            table.integer('change_in_dividend_payable');
            table.integer('change_in_accrued_expense');
            table.integer('change_in_interest_payable');
            table.integer('change_in_deferred_charges');
            table.integer('change_in_loans');
            table.integer('change_in_other_current_assets');
            table.integer('change_in_other_current_liabilities');
            table.integer('change_in_other_working_capital');
            table.integer('investing_cash_flow');
            table.integer('capital_expenditure');
            table.integer('proceeds_pmnt_fed_funds_sold_and_secs_purchased_u_a_to_resell');
            table.integer('proceeds_payment_in_interest_bearing_deposits_in_bank');
            table.integer('net_investment_purchase_and_sale');
            table.integer('net_other_investing_changes');
            table.integer('purchase_of_investment');
            table.integer('purchase_of_fixed_maturity_securities');
            table.integer('purchase_of_equity_securities');
            table.integer('sale_of_investment');
            table.integer('sales_of_fixed_maturity_securities');
            table.integer('calls_maturities_of_maturity_securities');
            table.integer('sales_of_equity_securities');
            table.integer('net_proceeds_payment_for_loan');
            table.integer('proceeds_from_loans');
            table.integer('payment_for_loans');
            table.integer('net_purchase_and_sale');
            table.integer('purchase_of');
            table.integer('sale_of');
            table.integer('net_intangibles_purchase_and_sale');
            table.integer('purchase_of_intangibles');
            table.integer('sale_of_intangibles');
            table.integer('net_business_purchase_and_sale');
            table.integer('purchase_of_business');
            table.integer('sale_of_business');
            table.integer('financing_cash_flow');
            table.integer('change_in_federal_funds_and_securities_sold_for_repurchase');
            table.integer('increase_decrease_in_deposit');
            table.integer('net_issuance_payments_of_debt');
            table.integer('net_long_term_debt_issuance');
            table.integer('long_term_debt_issuance');
            table.integer('long_term_debt_payments');
            table.integer('net_short_term_debt_issuance');
            table.integer('short_term_debt_issuance');
            table.integer('short_term_debt_payments');
            table.integer('net_common_stock_issuance');
            table.integer('common_stock_issuance');
            table.integer('common_stock_payments');
            table.integer('net_preferred_stock_issuance');
            table.integer('preferred_stock_issuance');
            table.integer('preferred_stock_payments');
            table.integer('cash_dividends_paid');
            table.integer('common_stock_dividend_paid');
            table.integer('preferred_stock_dividend_paid');
            table.integer('proceeds_from_stock_option_exercised');
            table.integer('proceeds_from_issuance_of_warrants');
            table.integer('net_other_financing_charges');
            table.integer('cash_flow_from_discontinued_operation');
            table.integer('end_cash_position');
            table.integer('changes_in_cash');
            table.integer('effect_of_exchange_rate_changes');
            table.integer('beginning_cash_position');
            table.integer('issuance_of_capital_stock');
            table.integer('issuance_of_debt');
            table.integer('repayment_of_debt');
            table.integer('income_tax_paid_supplemental_data');
            table.integer('interest_paid_supplemental_data');
            table.foreign('company_id').references('id').inTable('companies');
        }),
    ]);
};

exports.down = (knex, Promise) => {
    return Promise.all([
        knex.schema.dropTable('cash_flow_statements'),
        knex.schema.dropTable('income_statements'),
        knex.schema.dropTable('balance_sheets'),
        knex.schema.dropTable('companies'),
    ]);
};
